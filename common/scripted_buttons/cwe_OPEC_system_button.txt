je_OPEC_increase_oil_quota_button = {
	name = "je_OPEC_increase_oil_quota_button"
	desc = "je_OPEC_increase_oil_quota_button_desc"

	visible = { 
		
		#Leader of OPEC
		has_modifier = OPEC_leader
		
	}

	possible = {
	
		#Not already at max quota
		hidden_trigger = { 
			NOT = { has_global_variable = very_high_OPEC_oil_quota }
		}
		
		#No timer
		custom_tooltip = {
			text = OPEC_quota_timer.tt
			NOT = { has_variable = OPEC_oil_quota_timer }
		}
	
		#Sufficient government support
		#government_has_legislative_simple_majority = yes
		
	}

	effect = {
		
		#Set global flags
		if = {
			limit = { has_global_variable = very_low_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			set_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = low_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			set_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = medium_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			set_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = high_OPEC_oil_quota }
			set_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else = {
			set_global_variable = very_high_OPEC_oil_quota
		}
		
		#Set modifiers
		every_country = {
			limit = {
				OR = { 
					has_modifier = OPEC_leader 
					has_modifier = OPEC_member 
				}
			}
			set_OPEC_quota_modifiers = yes
		}
		
		#Timer
		set_variable = { name = OPEC_oil_quota_timer months = 12 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				has_global_variable = economic_strength_global_var
				OR = { 
					AND = { 
						global_var:economic_strength_global_var < 1 
						NOT = { has_global_variable = very_low_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 1
						global_var:economic_strength_global_var < 2
						NOT = { has_global_variable = low_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 2
						global_var:economic_strength_global_var < 3
						NOT = { has_global_variable = medium_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 3
						global_var:economic_strength_global_var < 4
						NOT = { has_global_variable = high_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 4
						NOT = { has_global_variable = very_high_OPEC_oil_quota }
					}
				}
			}
			add = 10 
		}
	}
	
}

je_OPEC_decrease_oil_quota_button = {
	name = "je_OPEC_decrease_oil_quota_button"
	desc = "je_OPEC_decrease_oil_quota_button_desc"

	visible = { 
		
		#Leader of OPEC
		has_modifier = OPEC_leader
		
	}

	possible = {
	
		#Not already at max quota
		hidden_trigger = { 
			NOT = { has_global_variable = very_low_OPEC_oil_quota }
		}
		
		#No timer
		custom_tooltip = {
			text = OPEC_quota_timer.tt
			NOT = { has_variable = OPEC_oil_quota_timer }
		}
	
		#Sufficient government support
		#government_has_legislative_simple_majority = yes
		
	}

	effect = {
		
		#Set global flags
		if = {
			limit = { has_global_variable = low_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			set_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = medium_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			set_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = high_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			remove_global_variable = high_OPEC_oil_quota
			set_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else_if = {
			limit = { has_global_variable = very_high_OPEC_oil_quota }
			remove_global_variable = very_high_OPEC_oil_quota
			set_global_variable = high_OPEC_oil_quota
			remove_global_variable = medium_OPEC_oil_quota
			remove_global_variable = low_OPEC_oil_quota
			remove_global_variable = very_low_OPEC_oil_quota
		}
		else = {
			set_global_variable = very_low_OPEC_oil_quota
		}
		
		#Set modifiers
		every_country = {
			limit = {
				OR = { 
					has_modifier = OPEC_leader 
					has_modifier = OPEC_member 
				}
			}
			set_OPEC_quota_modifiers = yes
		}
		
		#Timer
		set_variable = { name = OPEC_oil_quota_timer months = 12 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				has_global_variable = economic_strength_global_var
				OR = { 
					AND = { 
						global_var:economic_strength_global_var < 1 
						NOT = { has_global_variable = very_low_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 1
						global_var:economic_strength_global_var < 2
						NOT = { has_global_variable = low_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 2
						global_var:economic_strength_global_var < 3
						NOT = { has_global_variable = medium_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 3
						global_var:economic_strength_global_var < 4
						NOT = { has_global_variable = high_OPEC_oil_quota }
					}
					AND = { 
						global_var:economic_strength_global_var >= 4
						NOT = { has_global_variable = very_high_OPEC_oil_quota }
					}
				}
			}
			add = 10 
		}
	}
	
}