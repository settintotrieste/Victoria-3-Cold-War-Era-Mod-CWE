je_borrow_multilateral_banks_button = {
	name = "je_borrow_multilateral_banks_button"
	desc = "je_borrow_multilateral_banks_button_desc"

	visible = { 
		
		#Can borrow money
		has_variable = currency_borrowing_pool_domestic
		has_variable = currency_borrowed_money
		has_variable = currency_borrow_money_monthly_limit
		root.var:currency_borrowed_money < root.var:currency_borrowing_pool_domestic
		root.var:currency_borrow_money_monthly_limit >= 1000
		
	}

	possible = {
	
		#Can only borrow once a month
		hidden_trigger = { NOT = { has_variable = multilateral_bank_loan_timer } }
		
		#Gold reserves are not full
		gold_reserves < gold_reserves_limit
		
	}

	effect = {
		
		#Borrow money
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 1000
				root.var:currency_borrow_money_monthly_limit < 10000
			}
			add_treasury = 1000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -1000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 1000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 10000
				root.var:currency_borrow_money_monthly_limit < 100000
			}
			add_treasury = 10000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -10000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 10000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 100000
				root.var:currency_borrow_money_monthly_limit < 1000000
			}
			add_treasury = 100000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -100000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 100000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 1000000
				root.var:currency_borrow_money_monthly_limit < 10000000
			}
			add_treasury = 1000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -1000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 1000000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 10000000
				root.var:currency_borrow_money_monthly_limit < 100000000
			}
			add_treasury = 10000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -10000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 10000000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 100000000
				root.var:currency_borrow_money_monthly_limit < 1000000000
			}
			add_treasury = 100000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -100000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 100000000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 1000000000
				root.var:currency_borrow_money_monthly_limit < 10000000000
			}
			add_treasury = 1000000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -1000000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 1000000000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 10000000000
				root.var:currency_borrow_money_monthly_limit < 100000000000
			}
			add_treasury = 10000000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -10000000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 10000000000
			}
		}
		if = {
			limit = { 
				root.var:currency_borrow_money_monthly_limit >= 100000000000
			}
			add_treasury = 100000000000
			change_variable = {
				name = currency_borrowing_pool_domestic
				add = -100000000000
			}
			change_variable = {
				name = currency_borrowed_money
				add = 100000000000
			}
		}
		
		calculate_total_borrowing_pool = yes
		calculate_borrowed_money = yes
		calculate_borrowed_money_repayment_rate = yes
		
		#Can only fire once per month
		set_variable = { name = multilateral_bank_loan_timer months = 1 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				scaled_debt > 0
			}
			add = 10 
		}
	}
	
}

je_repay_multilateral_banks_button = {
	name = "je_repay_multilateral_banks_button"
	desc = "je_repay_multilateral_banks_button_desc"

	visible = { 
		
		#Has borrowed money
		has_variable = currency_borrowed_money
		has_variable = currency_borrowed_money_yearly_repayment_display
		root.var:currency_borrowed_money > 0
		
	}

	possible = {
	
		#Can only repay once a month
		hidden_trigger = { NOT = { has_variable = multilateral_bank_loan_timer } }
		
		#Have enough gold reserves
		gold_reserves > root.var:currency_borrowed_money_yearly_repayment_display
		
	}

	effect = {
		
		calculate_borrowed_money_repayment_large = yes
		
		#Can only fire once per month
		set_variable = { name = multilateral_bank_loan_timer months = 1 }
		
	}
	
	ai_chance = {
		base = 0
		modifier = { 
			trigger = { 
				gold_reserves > 0
			}
			add = 10 
		}
	}
	
}