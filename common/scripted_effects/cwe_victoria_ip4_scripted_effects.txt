REPLACE_OR_CREATE:ip4_coup_victory_government_effects = {
	if = {
		limit = {
			OR = {
				is_a_regime_monarchy = no
				has_gov_regency = yes
			}
			glorious_revolution_coup_trigger = no
			dynastic_coup_trigger = no
		}
		hidden_effect = {
			if = {
				limit = {
					has_gov_regency = yes
				}
				if = {
					limit = {
						ruler = {
							is_immortal = yes
						}
					}
					ruler = {
						set_character_immortal = no
					}
				}
				scope:golpista_ig.leader ?= {
					set_character_immortal = yes
				}
			}
		}
		set_variable = { name = keep_current_ruler_var days = 7 }
		scope:golpista_ig.leader ?= {
			set_character_as_ruler = yes
		}
	}
	scope:golpista_ig = {
		add_modifier = {
			name = modifier_successful_coup
			days = short_modifier_time
			is_decaying = yes
		}
	}
	if = {
		limit = {
			scope:golpista_ig ?= {
				has_party = yes
			}
		}
		scope:golpista_ig.party ?= {
			set_ruling_party = yes
		}
	}
	else = {
		if = {
			limit = {
				scope:golpista_ig ?= {
					is_in_government = no
				}
			}
			scope:golpista_ig ?= {
				add_ruling_interest_group = yes
			}
		}
		every_interest_group = {
			limit = {
				is_in_government = yes
				NOT = {
					scope:golpista_ig ?= this
				}
			}
			remove_ruling_interest_group = yes
		}
	}
	if = {
		limit = {
			owner ?= {
				country_has_voting_franchise = yes
				in_election_campaign = no
			}
		}
		owner ?= {
			call_election = {
				months = 3
			}
		}
	}
	add_modifier = {
		name = modifier_government_recently_couped
		days = short_modifier_time
		is_decaying = yes
	}
}

REPLACE_OR_CREATE:ip4_coup_victory_effect_interaction_display = {
	if = {
		limit = {
			root.interest_group ?= {
				has_party = yes
			}
		}
		root.interest_group.party ?= {
			set_ruling_party = yes
		}
	}
	else = {
		root.interest_group ?= {
			add_ruling_interest_group = yes
		}
		every_interest_group = {
			limit = {
				is_in_government = yes
				NOT = {
					root.interest_group ?= this
				}
			}
			remove_ruling_interest_group = yes
		}
	}
	if = {
		limit = {
			exists = owner.currently_enacting_law
			root.interest_group ?= {
				law_enactment_stance = {
					law = owner.currently_enacting_law.type
					value < neutral
				}
			}
		}
		owner ?= {
			cancel_enactment = yes
		}
	}
	root.interest_group ?= {
		ordered_preferred_law = {
			limit = {
				law_is_available = yes
				NOT = {
					owner = {
						has_law = prev.type
					}
				}
			}
			position = 0
			check_range_bounds = no
			owner = {
				activate_law = prev.type
			}
		}
	}
	if = {
		limit = {
			OR = {
				is_a_regime_monarchy = no
				has_gov_regency = yes
			}
		}
		scope:golpista_ig.leader ?= {
			set_character_as_ruler = yes
		}
	}
	if = {
		limit = {
			owner ?= {
				country_has_voting_franchise = yes
				in_election_campaign = no
			}
		}
		owner ?= {
			call_election = {
				months = 3
			}
		}
	}
}