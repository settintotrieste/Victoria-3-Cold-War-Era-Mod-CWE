amendment_american_second_amendment = {

	parent = law_national_militia

	allowed_laws = {
		law_HOS_president
	}

	modifier = {
		country_yankee_and_dixie_cultures_obsessed_with_guns = yes
		state_colony_growth_speed_mult = 0.05
		building_training_rate_mult = 0.10
		state_mortality_mult = 0.01
	}

	possible = {
		OR = {
			country_has_primary_culture = cu:yankee
			country_has_primary_culture = cu:dixie
		}
	}

	would_sponsor = {
		ROOT = {
			OR = {
				is_interest_group_type = ig_rural_folk
				is_interest_group_type = ig_petty_bourgeoisie
				AND = {
					exists = scope:approval
					scope:approval > 0
				}
			}
		}
	}

	ai_will_revoke = {
		country_has_voting_franchise = no
	}

	can_repeal = { 
		government_has_legislative_super_majority = yes
		legitimacy >= legitimacy_to_repeal_amendment
	}
}

amendment_chamber_of_procurators = {

	parent = law_rigged_voting

	allowed_laws = {
		law_technocratic_legislature
	}

	modifier = {
		country_legitimacy_govt_total_votes_add = 40
		country_aristocrats_voting_power_add = 50
		country_officers_voting_power_add = 25
		country_clergymen_voting_power_add = 25
		country_bureaucrats_voting_power_add = 25
		country_shopkeepers_voting_power_add = 25
		country_electoral_confidence_impact_mult = -0.4
	}

	possible = {
		country_has_primary_culture = cu:spanish
	}

	would_sponsor = {
		OR = {
			is_interest_group_type = ig_landowners
			is_interest_group_type = ig_industrialists
			AND = {
				is_interest_group_type = ig_petty_bourgeoisie
				AND = {
					exists = scope:approval
					scope:approval > 0
				}
			}
		}
	}

	ai_will_revoke = {
		always = no
	}

	can_repeal = { government_has_legislative_simple_majority = yes
		legitimacy >= legitimacy_to_repeal_amendment
	}
}

amendment_chamber_of_gentleman_deputies = {

	parent = law_rigged_voting

	allowed_laws = {
		law_technocratic_legislature
	}

	modifier = {
		country_legitimacy_govt_total_votes_add = 40
		country_aristocrats_voting_power_add = 50
		country_officers_voting_power_add = 25
		country_clergymen_voting_power_add = 25
		country_bureaucrats_voting_power_add = 25
		country_shopkeepers_voting_power_add = 25
		country_electoral_confidence_impact_mult = -0.4
	}

	would_sponsor = {
		OR = {
			is_interest_group_type = ig_landowners
			is_interest_group_type = ig_industrialists
			has_ideology = ideology:ideology_cartist
		}
	}

	ai_will_revoke = {
		always = no
	}

	can_repeal = { government_has_legislative_simple_majority = yes
		legitimacy >= legitimacy_to_repeal_amendment
	}
}

amendment_racialized_subjecthood = {

	parent = law_racial_segregation

	allowed_laws = {
		law_ethnostate #law_subjecthood
	}

	modifier = {
		country_acceptance_shared_heritage_trait_add = 40
		country_acceptance_shared_heritage_trait_group_add = 30
		country_acceptance_no_shared_heritage_trait_add = -5
	}

	possible = {
		has_law = law_type:law_colonial_administration
	}

	would_sponsor = {
		AND = {
			exists = scope:approval
			scope:approval > 0
		}
		OR = {
			is_interest_group_type = ig_armed_forces
			is_interest_group_type = ig_industrialists
		}
	}

	ai_will_revoke = {
		always = no
	}

	can_repeal = { government_has_legislative_simple_majority = yes # For the tooltip
		NOT = {
			has_law = law_type:law_colonial_administration
		}
	}
}

amendment_geheime_staatskonferenz = {

	parent = law_appointed_legislature

	allowed_laws = {
		law_appointed_legislature
	}

	modifier = {
		country_legitimacy_base_add = 35
		country_legitimacy_govt_size_add = 1
		country_authority_mult = -0.25
		country_law_enactment_time_mult = 0.20
		country_law_enactment_success_add = -0.10
		country_block_government_reform_bool = yes
	}

	possible = {
		c:AUS ?= this
		has_law = law_type:law_appointed_legislature # Not neo-absolutism
	}

	would_sponsor = {
		always = no
	}

	ai_will_revoke = {
		NOT = {
			ruler = {
				has_template = aus_ferdinand_I_habsburg_template
			}
		}
	}

	can_repeal = { government_has_legislative_simple_majority = yes
		legitimacy >= legitimacy_to_repeal_amendment
		NAND = {
			has_law = law_type:law_appointed_legislature # Redundant, just to illustrate this can be removed by changing Distribution of Power
			ruler = {
				has_template = aus_ferdinand_I_habsburg_template
			}
		}
	}
}

amendment_electoral_clientelism = {

	parent = law_technocratic_legislature

	allowed_laws = {
		law_technocratic_legislature
		law_rigged_voting
		law_gerrymandered_voting
		law_technocratic_legislature
		law_democratic_legislature
	}

	modifier = {
		country_authority_mult = 0.10
		country_electoral_confidence_impact_mult = -0.25
	}

	possible = {
		modifier:country_forbid_electoral_fraud_bool = no
	}

	can_repeal = { government_has_legislative_simple_majority = yes
		legitimacy >= legitimacy_to_repeal_amendment
		hidden_trigger = {
			has_variable = electoral_fraud_abolish_var
		}
		trigger_if = {
			limit = {
				has_variable = electoral_fraud_abolish_var
			}
			custom_tooltip = {
				text = caciquismo_can_be_abolished_tt
				var:electoral_fraud_abolish_var >= 5
			}
		}
	}

	ai_will_revoke = {
		always = no
	}

	would_sponsor = {
		OR = {
			is_interest_group_type = ig_landowners
			is_interest_group_type = ig_industrialists
			AND = {
				exists = scope:approval
				scope:approval > 0
			}
		}
	}
}

amendment_tradition_of_free_elections = {

	parent = law_democratic_legislature

	allowed_laws = {
		law_technocratic_legislature
		law_rigged_voting
		law_gerrymandered_voting
		law_technocratic_legislature
		law_democratic_legislature
	}

	modifier = {
		country_forbid_electoral_fraud_bool = yes
		country_legitimacy_base_add = 10
		country_enactment_success_chance_law_appointed_legislature_add = -0.10
		country_enactment_success_chance_law_technocratic_legislature_add = -0.10
		# Intended that there is no defence against Single Party State
	}

	possible = {
		always = yes # Handled by special logic
	}

	can_repeal = { government_has_legislative_simple_majority = yes
		OR = {
			AND = {
				custom_tooltip = {
					text = ruler_wants_dictatorship_tt
					ruler = {
						OR = {
							law_enactment_stance = {
								law = law_type:law_appointed_legislature
								value > 0
							}
							law_enactment_stance = {
								law = law_type:law_technocratic_legislature
								value > 0
							}
							law_enactment_stance = {
								law = law_type:law_single_party_state
								value > 0
							}
						}
					}
				}
				custom_tooltip = {
					text = any_government_ig_wants_dictatorship_tt
					any_interest_group = {
						is_powerful = yes
						is_in_government = yes
						OR = {
							law_enactment_stance = {
								law = law_type:law_appointed_legislature
								value > 0
							}
							law_enactment_stance = {
								law = law_type:law_technocratic_legislature
								value > 0
							}
							law_enactment_stance = {
								law = law_type:law_single_party_state
								value > 0
							}
						}
					}
				}
				legitimacy >= legitimacy_to_repeal_amendment
			}
		}
	}

	ai_will_revoke = {
		always = no
	}

	would_sponsor = {
		AND = {
			exists = scope:approval
			scope:approval > 0
		}
	}
}
