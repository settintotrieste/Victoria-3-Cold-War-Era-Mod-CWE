contain_threat = {
	icon = "gfx/interface/icons/war_goals/contain_threat.dds"

	kind = contain_threat

	settings = {
		require_target_be_part_of_war
		skip_build_list

		# Validation
		validate_contain_threat
	}

	execution_priority = 60

	contestion_type = control_target_country_capital

	target_type = country

	possible = {
		# trigger to determine if a goal with its target data is listed when selecting a war goal in the diplo play panel
		# scopes: root = holder, creator_country, diplomatic_play, target_country, target_state, stakeholder, target_region, article_options
	}

	valid = {
		# trigger in addition to some basic validation code-side
		# scopes: root = holder, creator_country, diplomatic_play, target_country, target_state, stakeholder, target_region, article_options
	}

	maneuvers = {
		value = 0
	}

	infamy = {
		value = 0
	}

	on_enforced = {
		# script effect on top of the predefined code effect
		
		#Disarm country
		ROOT = { opportunity_to_steal_nuclear_wmd_effect = yes }
		scope:target_country ?= { 
			enforce_disarm_wmd_country_effect = yes 
			enforce_disarm_country_effect = yes
		}
		
		#War goal presser's ruler can win a nobel peace prize
		ROOT = { 
			ruler ?= { 
				set_variable = { 
					name = nobel_peace_prize_nominee 
					years = 1 
				} 
			} 
		}
		
		#Release all TARGET subjects
		every_country = {
			limit = { 
				is_subject_of = scope:target_country 
				NOT = { has_variable = exempt_from_subject_loss }
			}
			make_independent = yes
		}
		
		#Dissolve power bloc
		scope:target_country ?= {
			if = {
				limit = { is_power_bloc_leader = yes }
				every_country = {
					limit = { is_in_same_power_bloc = scope:target_country }
					scope:target_country.power_bloc ?= {
						add_leverage = { target = THIS value = -1000 }
					}
				}
			}
		}
		
	}

	ai = {
		is_significant_demand = no
	}
}
