REPLACE_OR_CREATE:frost = {
	trigger = {
		is_vulnerable_to_frosts = yes
		OR = { 
			month = 11
			month = 12
			month = 1
			month = 2
		}
	}

	incompatible_with = drought
	incompatible_with = wildfire
	incompatible_with = heatwave
	incompatible_with = optimal_sunlight
	incompatible_with = moderate_rainfall
	incompatible_with = torrential_rains
	incompatible_with = flood
	incompatible_with = tsunami
	incompatible_with = earthquake
	# Incompatible with frost: drought, flood, wildfire, locust swarm, heatwave, torrential rains, pollinator surge, optimal sunlight, moderate rainfall
	# Replaces locust swarm, pollinator surge, optimal sunlight, moderate rainfall

	range = {
		integer_range = {
			min = 1
			max = 1
		}
	}

	duration = {
		fixed_range = {
			min = 5
			max = 20
		}
	}

	modifier = {
		#Throughput
		building_group_bg_agriculture_throughput_add = -0.05
		building_group_bg_plantations_throughput_add = -0.05

		#Subsistence
		state_peasants_consumption_multiplier_add = 0.03
	}

	intensity = {
		fixed_range = {
			min = 2
			max = 4
		}
	}

	chance = {
		value = 0.05
		if = {
			limit = {
				has_harvest_condition = hailstorm
			}
			multiply = 1.5
		}
	}

	color = { 47 127 185 }
	icon = "gfx/interface/icons/harvest_condition_icons/frost.dds"
	map_texture = "gfx/map/map_painting/harvest_conditions_map_patterns/harvest_conditions_bad.dds"
	graphics = frost
}

REPLACE_OR_CREATE:hailstorm = {
	trigger = {
		is_vulnerable_to_hailstorm = yes
		OR = { 
			month = 11
			month = 12
			month = 1
			month = 2
		}
	}

	incompatible_with = drought
	incompatible_with = wildfire
	incompatible_with = heatwave
	incompatible_with = optimal_sunlight
	incompatible_with = tsunami
	incompatible_with = earthquake
	# Incompatible with hailstorm: drought, wildfire, locusts, heatwave, pollinators, optimal sunlight, moderate rainfall
	# Replaces locusts, pollinators, moderate rainfall

	range = {
		integer_range = {
			min = 1
			max = 1
		}
	}

	duration = {
		fixed_range = {
			min = 5
			max = 20
		}
	}

	modifier = {
		# Throughput
		building_group_bg_agriculture_throughput_add = -0.05
		building_group_bg_plantations_throughput_add = -0.05
		#building_group_bg_ranching_throughput_add = -0.05
		building_group_bg_logging_throughput_add = -0.05
	}

	intensity = {
		fixed_range = {
			min = 2
			max = 4
		}
		if = {
			limit = {
				has_global_variable = krakatoa_temperature_drop
			}
			add = global_var:krakatoa_temperature_drop
		}
	}

	chance = {
		value = 0.0025
		if = {
			limit = {
				OR = {
					has_harvest_condition = frost
					has_harvest_condition = torrential_rains
				}
			}
			multiply = 1.3
		}
	}

	color = { 70 234 255 }
	icon = "gfx/interface/icons/harvest_condition_icons/hailstorm.dds"
	map_texture = "gfx/map/map_painting/harvest_conditions_map_patterns/harvest_conditions_bad.dds"
	graphics = hail
}