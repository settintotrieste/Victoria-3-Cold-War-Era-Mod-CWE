je_reserved_powers = {
	icon = "gfx/interface/icons/law_icons/presidential_republic.dds"

	group = je_group_political_organs

	scripted_button = je_fire_council_chairperson_button

	possible = {
	
		#Not a revolutionary country
		is_revolutionary = no is_secessionist = no
	
		#Has reserve powers system
		has_law_or_variant = law_type:law_hybrid_chamber
		
	}

	immediate = {
		
		#Create second executive
		random_interest_group = {
			limit = { 
				OR = { 
					is_in_government = yes
					is_interest_group_type = ig_intelligentsia
					is_interest_group_type = ig_armed_forces
				}
			}
			save_scope_as = reserved_powers_holder_IG
		}
		if = {
			limit = {
				any_scope_character = {
					has_modifier = reserved_powers_holder
				}
			}
			random_scope_character = {
				limit = {
					has_modifier = reserved_powers_holder
				}
				if = {
					limit = { NOT = { has_modifier = reserved_powers_holder } }
					add_modifier = { name = reserved_powers_holder }
				}
			}
		}
		else = {
			create_character = {
				is_agitator = yes
				interest_group = scope:reserved_powers_holder_IG
				on_created = { 
					add_modifier = { name = reserved_powers_holder }
				}
			}
		}
		random_scope_character = {
			limit = {
				has_modifier = reserved_powers_holder
			}
			save_scope_as = ceremonial_head_of_state
		}
		
		#Cannot fire head of state within 1 year
		set_variable = { name = ceremonial_head_of_state_fire_timer year = 1 }
		
	}
	
	invalid = {
	
		OR = {
			NOT = { any_scope_character = { has_modifier = reserved_powers_holder } }
			NOT = { has_law_or_variant = law_type:law_hybrid_chamber }
			NOT = { exists = scope:ceremonial_head_of_state }
		}
	
	}
	
	on_invalid = {
		
		every_scope_character = {
			limit = {
				OR = { 
					has_modifier = reserved_powers_holder
					has_variable = ceremonial_head_of_state
				}
			}
			remove_variable = ceremonial_head_of_state
			remove_modifier = reserved_powers_holder
		}
		remove_variable = ceremonial_head_of_state_veto_overruled
		
	}
	
	on_monthly_pulse = {
		
		#President will veto laws he does not approve of
		events = {
			reserve_powers_system.1
		}
		
	}
	
	# zero or more static modifiers that will be applied to the Journal Entry when it activates, where they will propagate to the country
	modifiers_while_active = {
		reserved_powers_system
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = monarch_ig_landowners
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_landowners
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_devout
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_devout
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_rural_folk
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_rural_folk
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_industrialists
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_industrialists
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_petty_bourgeoisie
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_petty_bourgeoisie
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_trade_unions
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_trade_unions
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_armed_forces
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_armed_forces
					}
				}
			}
			triggered_desc = {
				desc = monarch_ig_intelligentsia
				trigger = {
					scope:ceremonial_head_of_state ?= {
						has_modifier = reserved_powers_holder
						is_interest_group_type = ig_intelligentsia
					}
				}
			}
			triggered_desc = {
				desc = monarch_vacated
				trigger = {
					always = yes
				}
			}
		}
	}

	weight = 4

	should_be_pinned_by_default = no

	transferable = no

	progressbar = no
}