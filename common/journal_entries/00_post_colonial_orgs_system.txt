je_commonwealth_global = {
	icon = "gfx/interface/icons/diplo_icons/commonwealth_member.dds"

	group = je_group_global_international_organisations
	
	scripted_button = je_host_commonwealth_games_button
	
	is_shown_when_inactive = {
		
	}
	
	possible = {
		OR = { 
			has_modifier = commonwealth_leader
			has_modifier = commonwealth_member
		}
	}
	
	should_be_involved = {
		OR = { 
			has_modifier = commonwealth_leader
			has_modifier = commonwealth_member
		}
	}
	
	should_show_when_not_involved = {
		OR = { 
			has_modifier = commonwealth_leader
			has_modifier = commonwealth_member
		}
	}
	
	immediate = {
		
		#Count post_colonial_org members
		random_country = {
			limit = {
				OR = {
					has_modifier = commonwealth_leader
					has_modifier = commonwealth_member
				}
			}
			set_global_variable = { 
				name = commonwealth_org_member_count
				value = 0 
			}
			every_country = {
				limit = {
					OR = { 
						has_modifier = commonwealth_leader
						has_modifier = commonwealth_member
					}
				}
				change_global_variable = {
					name = commonwealth_org_member_count
					add = 1
				}
			}
		}
		
		#Mark leader
		random_country = {
			limit = { has_modifier = commonwealth_leader }
			save_scope_as = commonwealth_leader
		}
		
	}
	
	on_monthly_pulse = {
		
		effect = {
		
			#Count post_colonial_org members
			random_country = {
				limit = {
					OR = {
						has_modifier = commonwealth_leader
						has_modifier = commonwealth_member
					}
				}
				set_global_variable = { 
					name = commonwealth_org_member_count
					value = 0 
				}
				every_country = {
					limit = {
						OR = { 
							has_modifier = commonwealth_leader
							has_modifier = commonwealth_member
						}
					}
					change_global_variable = {
						name = commonwealth_org_member_count
						add = 1
					}
				}
			}
		
		}
		
	}
	
	modifiers_while_active = {
		
	}

	invalid = {
	
		OR = {
		
			#No more members of org
			any_country = {
				count < 1
				OR = { 
					has_modifier = commonwealth_leader
					has_modifier = commonwealth_member
				}
			}
			
			#Different leader
			scope:commonwealth_leader ?= {
				NOT = { has_modifier = commonwealth_leader }
			}
			
			NOT = { exists = scope:commonwealth_leader }
			
		}
		
	}

	weight = 100

	should_be_pinned_by_default = no

	progressbar = no
}

je_francophonie_global = {
	icon = "gfx/interface/icons/diplo_icons/francophonie_member.dds"

	group = je_group_global_international_organisations
	
	scripted_button = je_host_francophonie_games_button
	
	is_shown_when_inactive = {
		
	}
	
	possible = {
		OR = { 
			has_modifier = francophonie_leader
			has_modifier = francophonie_member
		}
	}
	
	should_be_involved = {
		OR = { 
			has_modifier = francophonie_leader
			has_modifier = francophonie_member
		}
	}
	
	should_show_when_not_involved = {
		OR = { 
			has_modifier = francophonie_leader
			has_modifier = francophonie_member
		}
	}
	
	immediate = {
		
		#Count post_colonial_org members
		random_country = {
			limit = {
				OR = {
					has_modifier = francophonie_leader
					has_modifier = francophonie_member
				}
			}
			set_global_variable = { 
				name = francophonie_org_member_count
				value = 0 
			}
			every_country = {
				limit = {
					OR = { 
						has_modifier = francophonie_leader
						has_modifier = francophonie_member
					}
				}
				change_global_variable = {
					name = francophonie_org_member_count
					add = 1
				}
			}
		}
		
		#Mark leader
		random_country = {
			limit = { has_modifier = francophonie_leader }
			save_scope_as = francophonie_leader
		}
		
	}
	
	on_monthly_pulse = {
		
		effect = {
		
			#Count post_colonial_org members
			random_country = {
				limit = {
					OR = {
						has_modifier = francophonie_leader
						has_modifier = francophonie_member
					}
				}
				set_global_variable = { 
					name = francophonie_org_member_count
					value = 0 
				}
				every_country = {
					limit = {
						OR = { 
							has_modifier = francophonie_leader
							has_modifier = francophonie_member
						}
					}
					change_global_variable = {
						name = francophonie_org_member_count
						add = 1
					}
				}
			}
		
		}
		
	}
	
	modifiers_while_active = {
		
	}

	invalid = {
	
		OR = {
		
			#No more members of org
			any_country = {
				count < 1
				OR = { 
					has_modifier = francophonie_leader
					has_modifier = francophonie_member
				}
			}
			
			#Different leader
			scope:francophonie_leader ?= {
				NOT = { has_modifier = francophonie_leader }
			}
			
			NOT = { exists = scope:francophonie_leader }
			
		}
		
	}

	weight = 100

	should_be_pinned_by_default = no

	progressbar = no
}

je_ibero_american_organisation_global = {
	icon = "gfx/interface/icons/diplo_icons/ibero_american_organisation_member.dds"

	group = je_group_global_international_organisations
	
	scripted_button = je_host_ibero_american_organisation_games_button
	
	is_shown_when_inactive = {
		
	}
	
	possible = {
		OR = { 
			has_modifier = ibero_american_organisation_leader
			has_modifier = ibero_american_organisation_member
		}
	}
	
	should_be_involved = {
		OR = { 
			has_modifier = ibero_american_organisation_leader
			has_modifier = ibero_american_organisation_member
		}
	}
	
	should_show_when_not_involved = {
		OR = { 
			has_modifier = ibero_american_organisation_leader
			has_modifier = ibero_american_organisation_member
		}
	}
	
	immediate = {
		
		#Count post_colonial_org members
		random_country = {
			limit = {
				OR = {
					has_modifier = ibero_american_organisation_leader
					has_modifier = ibero_american_organisation_member
				}
			}
			set_global_variable = { 
				name = ibero_american_organisation_org_member_count
				value = 0 
			}
			every_country = {
				limit = {
					OR = { 
						has_modifier = ibero_american_organisation_leader
						has_modifier = ibero_american_organisation_member
					}
				}
				change_global_variable = {
					name = ibero_american_organisation_org_member_count
					add = 1
				}
			}
		}
		
		#Mark leader
		random_country = {
			limit = { has_modifier = ibero_american_organisation_leader }
			save_scope_as = ibero_american_organisation_leader
		}
		
	}
	
	on_monthly_pulse = {
		
		effect = {
		
			#Count post_colonial_org members
			random_country = {
				limit = {
					OR = {
						has_modifier = ibero_american_organisation_leader
						has_modifier = ibero_american_organisation_member
					}
				}
				set_global_variable = { 
					name = ibero_american_organisation_org_member_count
					value = 0 
				}
				every_country = {
					limit = {
						OR = { 
							has_modifier = ibero_american_organisation_leader
							has_modifier = ibero_american_organisation_member
						}
					}
					change_global_variable = {
						name = ibero_american_organisation_org_member_count
						add = 1
					}
				}
			}
		
		}
		
	}
	
	modifiers_while_active = {
		
	}

	invalid = {
	
		OR = {
		
			#No more members of org
			any_country = {
				count < 1
				OR = { 
					has_modifier = ibero_american_organisation_leader
					has_modifier = ibero_american_organisation_member
				}
			}
			
			#Different leader
			scope:ibero_american_organisation_leader ?= {
				NOT = { has_modifier = ibero_american_organisation_leader }
			}
			
			NOT = { exists = scope:ibero_american_organisation_leader }
			
		}
		
	}

	weight = 100

	should_be_pinned_by_default = no

	progressbar = no
}