je_economic_outlook_system = {
	icon = "gfx/interface/icons/invention_icons/mutual_funds.dds"

	group = je_group_internal_affairs

	possible = {
		
		has_variable = economic_strength_var
		
	}

	immediate = {
		
		
		
	}
	
	on_monthly_pulse = {
		effect = {
		
			if = {
				limit = {
					NOT = { has_variable = GDP_tracker_timer }
				}
				if = {
					limit = { NOT = { has_variable = prev_half_year_GDP } }
					set_variable = {
						name = prev_half_year_GDP
						value = gdp
					}
					set_variable = {
						name = half_year_GDP_rate
						value = 0
					}
				}
				if = {
					limit = { has_variable = prev_half_year_GDP }
					if = {
						limit = { 
							var:prev_half_year_GDP = 0 
						}
						set_variable = {
							name = prev_half_year_GDP
							value = 0.01
						}
					}
					set_variable = {
						name = current_half_year_GDP
						value = gdp
					}
					set_variable = {
						name = half_year_GDP_rate
						value = var:current_half_year_GDP
					}
					change_variable = {
						name = half_year_GDP_rate
						subtract = var:prev_half_year_GDP
					}
					change_variable = {
						name = half_year_GDP_rate
						divide = var:prev_half_year_GDP
					}
					change_variable = {
						name = half_year_GDP_rate
						multiply = 100
					}
					set_variable = {
						name = prev_half_year_GDP_display
						value = var:prev_half_year_GDP
					}
					change_variable = {
						name = prev_half_year_GDP_display
						divide = 1000000
					}
					set_variable = {
						name = prev_half_year_GDP
						value = var:current_half_year_GDP
					}
					set_variable = {
						name = current_half_year_GDP_display
						value = var:current_half_year_GDP
					}
					change_variable = {
						name = current_half_year_GDP_display
						divide = 1000000
					}
				}
				set_variable = {
					name = GDP_tracker_timer
					months = 5.5
				}
			}
			
		}
	}

	weight = 10

	should_be_pinned_by_default = no

	transferable = no

	progressbar = no
	
}