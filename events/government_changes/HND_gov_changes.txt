namespace = HND_gov_changes

# Dismissal of Viceroy Wavell
HND_gov_changes.1 = {
    type = country_event
	placement = c:HND

    title = HND_1947_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1947_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1947_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		has_global_variable = 1946_start_date
		
		#Overlord conditions
		c:GBR ?= this
		game_date >= 1947.2.21									# START DATE: Date colony became self governing ****
		game_date < 1957.2.21									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_democratic_monarchy = yes							# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Left wing government
		ruler ?= { interest_group = { is_interest_group_type = ig_trade_unions } }
		
		# Event has not been fired before
		NOT = { has_variable = HND_1947_hgc }					# CHANGE ****
		
		#British Raj
		exists = c:HND
		c:HND ?= {
			is_a_colonial_government = yes							# Correct gov types
			is_sufficiently_independent = no						# is_vassal = no		
			is_at_war = no											# war = no
			is_direct_subject_of = ROOT
		}
		
		#Viceroy
		c:HND ?= {
			has_journal_entry = je_constitutional_monarchy
			any_scope_character = {
				has_variable = Archibald_Wavell
				has_modifier = viceroy_character
			}
		}
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1947_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#British Conservatives hate this
		add_radicals = {
			value = very_large_radicals
			strata = upper
		}
		
		#Install new Viceroy
		c:HND ?= {
			random_scope_character = {
				limit = { has_variable = Archibald_Wavell }
				retire_character_scripted_effect = yes
			}
			set_variable = Archibald_Wavell_dismissed
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Socialists hate this
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_trade_unions
		}
		
		#Consequences
		c:HND ?= {
			#Mark for AH
			set_variable = Archibald_Wavell_option
			
			#Domestic reaction
			add_radicals = {
				value = very_large_radicals
				strata = lower
			}
			add_modifier = { 
				name = domestic_unrest
				years = 5
				is_decaying = yes 
			}
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}

# The State of Jammu and Kashmir
HND_gov_changes.2 = {
    type = country_event
	placement = c:KAS

    title = HND_1952_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1952_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1952_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2" }

    icon = "gfx/interface/icons/event_icons/waving_flag.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 1952.11.17									# START DATE: Date colony became self governing ****
		game_date < 1962.11.17									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_democracy = yes									# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Owns Kashmir
		exists = c:KAS
		c:KAS ?= {
			is_direct_subject_of = ROOT
			is_sufficiently_independent = no
			NOT = { is_subject_type = subject_type_special_administrative_region }
		}
		
		#Pressure from Pakistan
		exists = c:PAK
		c:PAK ?= {
			has_state_in_state_region = STATE_KASHMIR
			is_sufficiently_independent = yes
			NOT = { is_subject_of = ROOT }
		}
		
		# Event has not been fired before
		NOT = { has_variable = HND_1952_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1952_hgc								# Change variable ****
		
	}
    
    option = {
        name = KAS_Special_Status.option.1						# Accept
        highlighted_option = yes
		
		#Reorder Kashmir
		c:KAS ?= {
			effect_starting_politics_parliamentary_republic = yes
			effect_starting_politics_democratic = yes
			if = {
				limit = { any_scope_character = { has_variable = Sheikh_Abdullah } }
				random_scope_character = { 
					limit = { has_variable = Sheikh_Abdullah }
					set_character_as_ruler = yes
				}
			}
			else = {
				create_character = {
					first_name = "Sheikh_Abdullah_first_name"
					last_name = "Sheikh_Abdullah_last_name"
					ruler = yes ig_leader = yes historical = yes
					birth_date = 1905.12.5
					interest_group = ig_industrialists
					ideology = ideology_elitist
					culture = cu:egyptian
					religion = rel:sunni
					traits = {
						persistent
						charismatic
						ambitious
					}
					on_created = { set_variable = Sheikh_Abdullah }
				}
			}
		}
		if = {
			limit = { exists = c:KAS }
			create_diplomatic_pact = { 
				country = c:KAS
				type = special_administrative_region 
			}
			create_diplomatic_pact = { 
				country = c:KAS
				type = legal_union
			}
			create_diplomatic_pact = { 
				country = c:KAS
				type = currency_union
			}
		}
		
		#Discontent
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_landowners
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_devout
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_rural_folk
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_armed_forces
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = KAS_Special_Status.option.2						# Accept
		
		#Reorder Kashmir
		c:KAS ?= {
		
			#Domestic reaction
			add_radicals = {
				value = large_radicals
				strata = middle
			}
			add_radicals = {
				value = very_large_radicals
				strata = lower
			}
			every_scope_state = {
				limit = {
					state_region = { is_homeland = cu:kashmiri }	# Change homeland identity to match colony to be released ****
				}
				add_modifier = { name = nationalist_agitation months = 60 is_decaying = yes } 
			}
			
		}
		if = {
			limit = { exists = c:KAS }
			create_diplomatic_pact = { 
				country = c:KAS
				type = special_administrative_region 
			}
			create_diplomatic_pact = { 
				country = c:KAS
				type = legal_union
			}
			create_diplomatic_pact = { 
				country = c:KAS
				type = currency_union
			}
		}
		
		#Discontent
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_industrialists
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_petty_bourgeoisie
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_armed_forces
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 }
		}
		
    }
	
	option = {
        name = KAS_Special_Status.option.3						# Reject
		default_option = yes
		
		# Add Infamy
		create_incident = {
			country = c:HND
			value = 20
		}
		
		#Conquer
		c:KAS ?= {
			create_diplomatic_play = {
				name = kashmir_war_of_independence
				type = dp_independence
				target_country = ROOT
				
				#war = yes
				
				add_war_goal = {
					holder = ROOT
					type = annex_country
					target_country = c:KAS
				}
			}
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 }
		}
		
    }

}

# The Emergency
HND_gov_changes.3 = {
    type = country_event

    title = HND_1975_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1975_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1975_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 1975.6.25									# START DATE: Date colony became self governing ****
		game_date < 1985.6.25									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_democracy = yes									# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Indira Gandhi
		exists = ruler
		ruler = { has_variable = Indira_Gandhi }
		
		# Event has not been fired before
		NOT = { has_variable = HND_1975_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1975_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Enact new regime
		effect_starting_politics_dictatorship = yes
		random_scope_character = {
			limit = { has_variable = Indira_Gandhi }
			set_character_as_ruler = yes
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Domestic reaction
		add_radicals = {
			value = very_large_radicals
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}

# End of the Emergency
HND_gov_changes.4 = {
    type = country_event

    title = HND_1977_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1977_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1977_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 1977.1.18									# START DATE: Date colony became self governing ****
		game_date < 1987.1.18									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_dictatorship = yes									# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Indira Gandhi
		OR = { 
			ruler ?= { has_variable = Indira_Gandhi }
			character_is_autocratic = no
		}
		
		# Event has not been fired before
		NOT = { has_variable = HND_1977_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1977_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		effect_starting_politics_democratic = yes
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Domestic reaction
		add_radicals = {
			value = very_large_radicals
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}

# The Assassination of Indira Gandhi
HND_gov_changes.5 = {
    type = country_event

    title = HND_1984_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1984_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1984_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/southamerica_public_figure_assassination.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 1984.10.31									# START DATE: Date colony became self governing ****
		game_date < 1994.10.31									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		OR = { 
			is_a_democracy = yes									# Correct gov types
			is_a_republican_regime = yes
		}
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Cause of assassination
		has_variable = Operation_Blue_Star
		
		#Indira Gandhi
		exists = ruler
		ruler = { has_variable = Indira_Gandhi }
		
		# Event has not been fired before
		NOT = { has_variable = HND_1984_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1984_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Kill Indira Gandhi
		random_scope_character = {
			limit = { has_variable = Indira_Gandhi }
			kill_character = yes
		}
		
		set_variable = Indira_Gandhi_was_assasinated
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Domestic reaction
		add_radicals = {
			value = very_large_radicals
			religion = rel:sikh
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}

# The Assassination of Rajiv Gandhi
HND_gov_changes.6 = {
    type = country_event

    title = HND_1991_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_1991_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_1991_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/southamerica_public_figure_assassination.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 1991.5.21									# START DATE: Date colony became self governing ****
		game_date < 2001.5.21									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_democracy = yes									# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Rajiv Gandhi
		exists = ruler
		ruler = { has_variable = Rajiv_Gandhi }
		
		#Sri Lankan civil war
		exists = c:SRL
		NOT = { exists = c:TAE }
		
		# Event has not been fired before
		NOT = { has_variable = HND_1991_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = HND_1991_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Kill Rajiv Gandhi
		random_scope_character = {
			limit = { has_variable = Rajiv_Gandhi }
			kill_character = yes
		}
		
		set_variable = Rajiv_Gandhi_was_assasinated
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Domestic reaction
		add_radicals = {
			value = very_large_radicals
			culture = cu:tamil
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}

# Direct Rule in Jammu and Kashmir
HND_gov_changes.7 = {
    type = country_event
	placement = scope:colonial_state

    title = HND_2019_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = HND_2019_revolution.d 							# Description of the event; ADD LOCALISATION
    #flavor = HND_2019_revolution.f 						# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2" }

    icon = "gfx/interface/icons/event_icons/waving_flag.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:HND ?= this
		game_date >= 2019.10.31									# START DATE: Date colony became self governing ****
		game_date < 2029.10.31									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_democracy = yes									# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		#Owns Kashmir
		exists = c:KAS
		c:KAS ?= {
			is_direct_subject_of = ROOT
			is_sufficiently_independent = no
		}
		
		# Event has not been fired before
		NOT = { has_variable = HND_2019_hgc }					# CHANGE ****
		
    }
	
	immediate = {
	
		#Mark
		random_state = {
			limit = {
				state_region = { is_homeland = cu:kashmiri }	# Change homeland identity to match colony to be released ****
			}
			save_scope_as = colonial_state
		}
	
		# Fire only once
		set_variable = HND_2019_hgc								# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Demand Annexation
		c:KAS ?= { trigger_event = { id = historical_territorial_transfers.42 } }
		
		# Add Infamy
		create_incident = {
			country = c:KAS
			value = 20
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2					# Reject
		default_option = yes
		
		#Major discontent
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_landowners
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_devout
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_rural_folk
		}
		add_radicals = {
			value = very_large_radicals
			interest_group = ig:ig_armed_forces
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { historical_railroading_active = yes } add = -100 } 
		}
		
    }

}