namespace = JOR_gov_changes

# Assassination of Abdullah I of Jordan
JOR_gov_changes.1 = {
    type = country_event

    title = JOR_1951_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = JOR_1951_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1951_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/southamerica_public_figure_assassination.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1951.7.20									# START DATE: Date colony became self governing ****
		game_date < 1961.7.20									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_regime_monarchy = yes								# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		ruler ?= { has_variable = Abdullah_I }
		
		#Cause
		NOT = { exists = c:PAL }
		exists = c:ISR
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1951_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1951_revolution_hgc					# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Leader dies
		ruler ?= { kill_character = yes }
		
		#New Heir
		create_character = {
			first_name = "Hussein_bin_Talal_first_name"
			last_name = "Hussein_bin_Talal_last_name"
			heir = yes historical = yes
			birth_date = 1935.11.14
			interest_group = ig_landowners
			ideology = ideology_elitist
			religion = rel:sunni
			traits = {
				tactful
				ambitious
				expensive_tastes
			}
			on_created = {
				set_variable = Hussein_bin_Talal
				set_variable = is_married
			}
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2				# Reject
		default_option = yes
		
		#Major discontent
		add_radicals = {
			value = large_radicals
		}
		add_modifier = { 
			name = stirrings_of_revolution
			months = 60 
			is_decaying = yes 
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { has_global_variable = historical_railroading_active } add = -100 } 
		}
		
    }

}

# Abdication of Talal of Jordan
JOR_gov_changes.2 = {
    type = country_event

    title = JOR_1952_revolution.t 							# Title of the event; ADD LOCALISATION
    desc = JOR_1952_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1952_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/unspecific_politicians_arguing.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1952.8.11									# START DATE: Date colony became self governing ****
		game_date < 1962.8.11									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		has_government_type = gov_semi_constitutional_monarchy
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		ruler ?= { has_variable = Talal_bin_Abdullah }
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1952_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1952_revolution_hgc					# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Leader is removed
		ruler ?= { 
			save_scope_as = retiring_monarch 
			custom_tooltip = {
				text = retire_monarch
				kill_character = { hidden = yes }
			}
		}
		set_variable = Talal_bin_Abdullah_Abdicated
		
		#New Heir
		create_character = {
			first_name = "Abdullah_II_first_name"
			last_name = "Abdullah_II_last_name"
			heir = yes historical = yes
			birth_date = 1962.1.30
			interest_group = ig_industrialists
			ideology = ideology_elitist
			religion = rel:sunni
			traits = {
				innovative
				ambitious
				tactful
			}
			on_created = {
				set_variable = Abdullah_II
			}
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2				# Reject
		default_option = yes
		
		#Major discontent
		add_radicals = {
			value = large_radicals
		}
		add_modifier = { 
			name = stirrings_of_revolution
			months = 60 
			is_decaying = yes 
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { has_global_variable = historical_railroading_active } add = -100 } 
		}
		
    }

}

# Arabisation of the Jordanian Army
JOR_gov_changes.3 = {
    type = country_event

    title = JOR_1956_revolution.t 								# Title of the event; ADD LOCALISATION
    desc = JOR_1956_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1956_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/unspecific_military_parade.bk2" }

    icon = "gfx/interface/icons/event_icons/waving_flag.dds" 		# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1956.3.1									# START DATE: Date colony became self governing ****
		game_date < 1966.3.1									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_monarchy = yes
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		has_variable = Talal_bin_Abdullah_Abdicated
		
		OR = { 
			ruler ?= { has_variable = Hussein_bin_Talal }
			has_global_variable = historical_railroading_active
		}
		
		#A British Client State
		subject_type = subject_type_protectorate
		exists = c:GBR
		is_direct_subject_of = c:GBR
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1956_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1956_revolution_hgc					# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Become independent
		if = {
			limit = { is_subject = yes }
			make_independent = yes
		}
		
		#Lose relation with British
		change_relations = { country = c:GBR value = -50 }
		
		#Remove British from Jordan
		every_scope_character = {
			limit = { 
				OR = {
					is_interest_group_type = ig_armed_forces
					has_role = general
					has_role = admiral
				}
				culture = {
					has_discrimination_trait_group = heritage_group_european
					has_discrimination_trait = language_anglophone
				}
			}
			exile_character = yes
		}
		create_character = {
			first_name = "Ali_Abu_Nuwar_first_name"
			last_name = "Ali_Abu_Nuwar_last_name"
			ig_leader = yes historical = yes
			is_general = yes
			commander_rank = commander_rank_4
			birth_date = 1925.1.1
			interest_group = ig_armed_forces
			ideology = ideology_autocratic
			culture = cu:jordanian
			religion = rel:sunni
			traits = {
				inept
				bigoted
				ambitious
			}
			on_created = { set_variable = Ali_Abu_Nuwar }
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2				# Reject
		default_option = yes
		
		#Major discontent
		add_radicals = {
			value = large_radicals
		}
		add_modifier = { 
			name = stirrings_of_revolution
			months = 60 
			is_decaying = yes 
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { has_global_variable = historical_railroading_active } add = -100 } 
		}
		
    }

}

# Purge of the Nasserists, 1957
JOR_gov_changes.4 = {
    type = country_event

    title = JOR_1957_revolution.t 								# Title of the event; ADD LOCALISATION
    desc = JOR_1957_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1957_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/middleeast_police_breaking_door.bk2" }

    icon = "gfx/interface/icons/event_icons/event_raiding.dds" 		# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1957.4.13									# START DATE: Date colony became self governing ****
		game_date < 1967.4.13									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		has_government_type = gov_semi_constitutional_monarchy
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		OR = { 
			has_variable = Talal_bin_Abdullah_Abdicated
			ruler ?= { has_variable = Hussein_bin_Talal }
		}
		
		#EGY is Nasserist
		exists = c:EGY
		c:EGY ?= {
			is_a_nationalist_government = yes						# Correct gov types
			is_sufficiently_independent = yes						# is_vassal = no
			ruler ?= { has_variable = Gamal_Abdel_Nasser }
		}
		
		#Nasserists in the military
		any_scope_character = {
			OR = {
				is_interest_group_type = ig_armed_forces
				has_role = general
				has_role = admiral
			}
			OR = {
				has_variable = Ali_Abu_Nuwar
				is_interest_group_type = ig_trade_unions
			}
		}
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1957_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1957_revolution_hgc					# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Enact new regime
		effect_starting_politics_dictatorship = yes
		
		#Lose relation with EGY
		change_relations = { country = c:EGY value = -50 }
		create_incident = {
			country = c:EGY
			value = 10
		}
		
		#Remove Nasserists from Jordan
		every_scope_character = {
			limit = { 
				OR = {
					is_interest_group_type = ig_armed_forces
					has_role = general
					has_role = admiral
				}
				OR = {
					has_variable = Ali_Abu_Nuwar
					is_interest_group_type = ig_trade_unions
				}
			}
			exile_character = yes
		}
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2				# Reject
		default_option = yes
		
		#Enact new regime
		effect_starting_politics_constitutional_monarchy = yes
		random_scope_character = {
			limit = { 
				has_variable = Ali_Abu_Nuwar
			}
			set_character_as_ruler = yes
		}
		
		#Major discontent
		add_radicals = {
			value = very_large_radicals
			strata = upper
		}
		add_radicals = {
			value = large_radicals
			strata = middle
		}
		add_modifier = { 
			name = stirrings_of_revolution
			months = 60 
			is_decaying = yes 
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { has_global_variable = historical_railroading_active } add = -100 } 
		}
		
    }

}

# Jordanian protests, 1989
JOR_gov_changes.5 = {
    type = country_event

    title = JOR_1989_revolution.t 								# Title of the event; ADD LOCALISATION
    desc = JOR_1989_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1989_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/europenorthamerica_political_extremism.bk2" }

    icon = "gfx/interface/icons/event_icons/event_protest.dds" 		# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1989.5.30									# START DATE: Date colony became self governing ****
		game_date < 1999.5.30									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_absolute_monarchy = yes
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1989_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1989_revolution_hgc					# Change variable ****
		
	}
    
    option = {
        name = historical_gov_changes.option.1					# Accept
        highlighted_option = yes
		
		#Enact new regime
		effect_starting_politics_democratic = yes
		
		ai_chance = { 
			base = 90 
		}
		
    }
	
	option = {
        name = historical_gov_changes.option.2				# Reject
		default_option = yes
		
		#Major discontent
		add_radicals = {
			value = very_large_radicals
			strata = middle
		}
		add_radicals = {
			value = large_radicals
			strata = lower
		}
		add_modifier = { 
			name = stirrings_of_revolution
			months = 60 
			is_decaying = yes 
		}
		
		ai_chance = { 
			base = 10 modifier = { trigger = { has_global_variable = historical_railroading_active } add = -100 } 
		}
		
    }

}

# Abdullah II, 1999
JOR_gov_changes.6 = {
    type = country_event

    title = JOR_1999_revolution.t 								# Title of the event; ADD LOCALISATION
    desc = JOR_1999_revolution.d 								# Description of the event; ADD LOCALISATION
    #flavor = JOR_1999_revolution.f 							# Flavor for event; ADD LOCALISATION, IF REQUIRED

	event_image = { video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2" }

    icon = "gfx/interface/icons/event_icons/event_portrait.dds" 	# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 	# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {													# What triggers the event, if using other events or journal entries leave empty
		
		#Overlord conditions
		c:JOR ?= this
		game_date >= 1999.2.7									# START DATE: Date colony became self governing ****
		game_date < 2009.2.7									# END DATE: All historical events must not fire 10 years after the START DATE ****
		
		is_a_regime_monarchy = yes								# Correct gov types
		is_sufficiently_independent = yes						# is_vassal = no		
		is_at_war = no											# war = no
		
		ruler ?= { has_variable = Hussein_bin_Talal }
		
		# Event has not been fired before
		NOT = { has_variable = JOR_1999_revolution_hgc }		# CHANGE ****
		
    }
	
	immediate = {
	
		# Fire only once
		set_variable = JOR_1999_revolution_hgc					# Change variable ****
		
	}
    
    option = {
       name = historical_monarchy_events.option				# Accept
		
		#National mourning
		add_loyalists = {
			value = large_radicals
			strata = upper_strata
		}
		add_loyalists = {
			value = medium_radicals
			strata = middle_strata
		}
		add_loyalists = {
			value = small_radicals
			strata = lower_strata
		}
		
		#Leader dies
		ruler ?= { kill_character = yes }
		
		#New Heir
		create_character = {
			first_name = "Hussein_bin_Abdullah_first_name"
			last_name = "Hussein_bin_Abdullah_last_name"
			heir = yes historical = yes
			birth_date = 1994.6.28
			interest_group = ig_landowners
			ideology = ideology_elitist
			religion = rel:sunni
			traits = {
				tactful
				ambitious
				innovative
			}
			on_created = {
				set_variable = Hussein_bin_Abdullah_al_Hashimi
			}
		}
		
    }

}