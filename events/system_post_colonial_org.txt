namespace = post_colonial_org_system

# Commonwealth Participation
post_colonial_org_system.1 = {
    type = country_event
	placement = scope:commonwealth_summit_location

    title = participation_commonwealth_games_1.t 								# Title of the event; ADD LOCALISATION
    desc = participation_commonwealth_games_1.d 								# Description of the event; ADD LOCALISATION
    #flavor = participation_commonwealth_games_1.f 								# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/unspecific_world_fair.bk2" }

    icon = "gfx/interface/icons/invention_icons/organized_sports.dds" 				# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 					# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {																		# What triggers the event, if using other events or journal entries leave empty
		
		#Triggered by JE
		
    }
	
	immediate = {
		
		#Mark host
		random_country = {
			limit = { 
				has_variable = recently_hosted_commonwealth_games
			}
			save_scope_as = recently_hosted_commonwealth_games
			random_scope_state = {
				limit = {
					has_modifier = commonwealth_games_host_city
				}
				save_scope_as = commonwealth_summit_location
			}
		}
		
	}
    
    option = {
        name = participation_post_colonial_org_games.option.1					# Participate 
        highlighted_option = yes
		default_option = yes
		
		#Performance
		random_list = { 
			1 = { 
				add_modifier = { name = good_commonwealth_games_performance years = 4 is_decaying = yes } 
				add_loyalists = {
					value = 0.01
				}
			}
			1 = { }
			1 = { 
				add_modifier = { name = bad_commonwealth_games_performance years = 4 is_decaying = yes } 
			}
		}
		
		ai_chance = { 
			base = 80
		}
		
    }
	
	option = {
        name = participation_post_colonial_org_games.option.3					# Boycott
		trigger = {
			exists = scope:recently_hosted_commonwealth_games 
			NOT = { scope:recently_hosted_commonwealth_games ?= this }
		}
		
		#Lose relations with host country
		if = {
			limit = { exists = scope:recently_hosted_commonwealth_games }
			change_relations = { country = scope:recently_hosted_commonwealth_games value = -25 }
		}
		
		ai_chance = { 
			base = 0
			modifier = { 
				trigger = { 
					scope:recently_hosted_commonwealth_games = { relations:root <= relations_threshold:hostile } 
				} 
				add = 100 
			}
		}
		
    }

}

# Francophonie Participation
post_colonial_org_system.2 = {
    type = country_event
	placement = scope:francophonie_summit_location

    title = participation_francophonie_games_2.t 								# Title of the event; ADD LOCALISATION
    desc = participation_francophonie_games_2.d 								# Description of the event; ADD LOCALISATION
    #flavor = participation_francophonie_games_2.f 								# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/unspecific_world_fair.bk2" }

    icon = "gfx/interface/icons/invention_icons/organized_sports.dds" 				# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 					# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {																		# What triggers the event, if using other events or journal entries leave empty
		
		#Triggered by JE
		
    }
	
	immediate = {
		
		#Mark host
		random_country = {
			limit = { 
				has_variable = recently_hosted_francophonie_games
			}
			save_scope_as = recently_hosted_francophonie_games
			random_scope_state = {
				limit = {
					has_modifier = francophonie_games_host_city
				}
				save_scope_as = francophonie_summit_location
			}
		}
		
	}
    
    option = {
        name = participation_post_colonial_org_games.option.1					# Participate 
        highlighted_option = yes
		default_option = yes
		
		#Performance
		random_list = { 
			1 = { 
				add_modifier = { name = good_francophonie_games_performance years = 4 is_decaying = yes } 
				add_loyalists = {
					value = 0.01
				}
			}
			1 = { }
			1 = { 
				add_modifier = { name = bad_francophonie_games_performance years = 4 is_decaying = yes } 
			}
		}
		
		ai_chance = { 
			base = 80
		}
		
    }
	
	option = {
        name = participation_post_colonial_org_games.option.3					# Boycott
		trigger = {
			exists = scope:recently_hosted_francophonie_games 
			NOT = { scope:recently_hosted_francophonie_games ?= this }
		}
		
		#Lose relations with host country
		if = {
			limit = { exists = scope:recently_hosted_francophonie_games }
			change_relations = { country = scope:recently_hosted_francophonie_games value = -25 }
		}
		
		ai_chance = { 
			base = 0
			modifier = { 
				trigger = { 
					scope:recently_hosted_francophonie_games = { relations:root <= relations_threshold:hostile } 
				} 
				add = 100 
			}
		}
		
    }

}

# Ibero American Organisation Participation
post_colonial_org_system.3 = {
    type = country_event
	placement = scope:ibero_american_organisation_summit_location

    title = participation_ibero_american_organisation_games_3.t 								# Title of the event; ADD LOCALISATION
    desc = participation_ibero_american_organisation_games_3.d 								# Description of the event; ADD LOCALISATION
    #flavor = participation_ibero_american_organisation_games_3.f 								# Flavor for event; ADD LOCALISATION, IF REQUIRED

    event_image = { video = "gfx/event_pictures/unspecific_world_fair.bk2" }

    icon = "gfx/interface/icons/invention_icons/organized_sports.dds" 				# Icon that shows on the map or the outliner
    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear" 					# Sound effect if needed

    duration = 1 # Duration to fire if triggers are met
	
	trigger = {																		# What triggers the event, if using other events or journal entries leave empty
		
		#Triggered by JE
		
    }
	
	immediate = {
		
		#Mark host
		random_country = {
			limit = { 
				has_variable = recently_hosted_ibero_american_organisation_games
			}
			save_scope_as = recently_hosted_ibero_american_organisation_games
			random_scope_state = {
				limit = {
					has_modifier = ibero_american_organisation_games_host_city
				}
				save_scope_as = ibero_american_organisation_summit_location
			}
		}
		
	}
    
    option = {
        name = participation_post_colonial_org_games.option.1					# Participate 
        highlighted_option = yes
		default_option = yes
		
		#Performance
		random_list = { 
			1 = { 
				add_modifier = { name = good_ibero_american_organisation_games_performance years = 4 is_decaying = yes } 
				add_loyalists = {
					value = 0.01
				}
			}
			1 = { }
			1 = { 
				add_modifier = { name = bad_ibero_american_organisation_games_performance years = 4 is_decaying = yes } 
			}
		}
		
		ai_chance = { 
			base = 80
		}
		
    }
	
	option = {
        name = participation_post_colonial_org_games.option.3					# Boycott
		trigger = {
			exists = scope:recently_hosted_ibero_american_organisation_games 
			NOT = { scope:recently_hosted_ibero_american_organisation_games ?= this }
		}
		
		#Lose relations with host country
		if = {
			limit = { exists = scope:recently_hosted_ibero_american_organisation_games }
			change_relations = { country = scope:recently_hosted_ibero_american_organisation_games value = -25 }
		}
		
		ai_chance = { 
			base = 0
			modifier = { 
				trigger = { 
					scope:recently_hosted_ibero_american_organisation_games = { relations:root <= relations_threshold:hostile } 
				} 
				add = 100 
			}
		}
		
    }

}