namespace = labour_associations_events

labour_associations_events.1 = { # Stall
	type = country_event
	placement = root
	title = labour_associations_events.1.t
	desc = labour_associations_events.1.d
	flavor = labour_associations_events.1.f

	category = enactment

	duration = 3


	event_image = {
		video = "ep1_printing_press"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		enacting_more_permissive_labour_associations_law = yes
		ig:ig_industrialists ?= {
			ig_counts_as_marginal = no
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_industrialists ?= {
			save_scope_as = industrialists_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.1.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_anti_union_propaganda
			multiplier = 0.5
		}
		scope:industrialists_ig = {
			add_modifier = {
				name = modifier_anti_union_propaganda_ig
				days = short_modifier_time
			}
		}
	}

	option = {
		name = labour_associations_events.1.b
		add_enactment_modifier = {
			name = modifier_anti_union_propaganda
		}
	}
}

labour_associations_events.2 = { # Advance
	type = country_event
	placement = root
	title = labour_associations_events.2.t
	desc = labour_associations_events.2.d
	flavor = labour_associations_events.2.f

	category = enactment

	duration = 3


	event_image = {
		video = "rp1_amazon_exploitation"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		is_enacting_law = law_type:law_full_trade_unions
		ig:ig_industrialists ?= {
			ig_counts_as_marginal = no
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_industrialists ?= {
			save_scope_as = industrialists_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.2.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_preempetive_strikes
		}
		scope:industrialists_ig = {
			add_modifier = {
				name = modifier_preempetive_strikes_ig
				days = short_modifier_time
			}
		}
	}

	option = {
		name = labour_associations_events.2.b
		scope:industrialists_ig = {
			add_modifier = {
				name = modifier_slow_and_boring
				days = short_modifier_time
			}
		}
		add_radicals = {
			value = medium_radicals
			pop_type = machinists
		}
		add_radicals = {
			value = small_radicals
			pop_type = laborers
		}
	}
}

labour_associations_events.3 = { # Debate
	type = country_event
	placement = root
	title = labour_associations_events.3.t
	desc = labour_associations_events.3.d
	flavor = labour_associations_events.3.f

	category = enactment

	duration = 3


	event_image = {
		video = "asia_politician_parliament_motion"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		enacting_more_permissive_labour_associations_law = yes
		country_has_voting_franchise = yes
		any_interest_group = {
			law_enactment_stance = {
				law = owner.currently_enacting_law.type
				value < neutral
			}
		}
		ig:ig_trade_unions ?= {
			ig_counts_as_marginal = no
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_trade_unions ?= {
			save_scope_as = unions_ig
		}
		random_interest_group = {
			limit = {
				law_enactment_stance = {
					law = owner.currently_enacting_law.type
					value < neutral
				}
			}
			save_scope_as = opposed_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.3.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_favorable_trade_union_report
		}
		ig:ig_trade_unions ?= {
			add_modifier = {
				name = modifier_accepted_favorable_report
				days = short_modifier_time
			}
		}
		scope:opposed_ig = {
			add_modifier = {
				name = modifier_accepted_favorable_report_cons
				days = short_modifier_time
			}
		}
	}

	option = {
		name = labour_associations_events.3.b
		add_enactment_modifier = {
			name = modifier_hostile_trade_union_report
		}
		ig:ig_trade_unions ?= {
			add_modifier = {
				name = modifier_accepted_hostile_report_tus
				days = short_modifier_time
			}
		}
		scope:opposed_ig = {
			add_modifier = {
				name = modifier_accepted_hostile_report
				days = short_modifier_time
			}
		}
	}
}

labour_associations_events.5 = { # Stall
	type = country_event
	placement = root
	title = labour_associations_events.5.t
	desc = labour_associations_events.5.d
	flavor = labour_associations_events.5.f

	category = enactment

	duration = 3


	event_image = {
		video = "votp_agitator_speaking"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		has_law = law_type:law_full_trade_unions
		OR = {
			is_enacting_law = law_type:law_state_trade_unions
			is_enacting_law = law_type:law_restricted_trade_unions
		}
		ig:ig_trade_unions ?= {
			ig_counts_as_marginal = no
			law_enactment_stance = {
				law = currently_enacting_law.type
				value < neutral
			}
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_trade_unions ?= {
			save_scope_as = trade_unions_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.5.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_strikes_stall
			multiplier = 0.5
		}
		add_modifier = {
			name = modifier_nationwide_strikes
			days = short_modifier_time
		}
		add_radicals = {
			pop_type = machinists
			value = medium_radicals
		}
		add_radicals = {
			pop_type = laborers
			value = medium_radicals
		}
	}

	option = {
		name = labour_associations_events.5.b
		add_enactment_modifier = {
			name = modifier_strikes_stall
		}
		add_modifier = {
			name = modifier_nationwide_strikes
			days = short_modifier_time
			multiplier = 0.5
		}
		add_radicals = {
			pop_type = machinists
			value = small_radicals
		}
		add_radicals = {
			pop_type = laborers
			value = small_radicals
		}
	}

	option = {
		name = labour_associations_events.5.c
		trigger = {
			OR = {
				has_law = law_type:law_censorship
				has_law = law_type:law_outlawed_dissent
			}
		}
		highlighted_option = yes
		add_enactment_setback = 1
		add_modifier = {
			name = modifier_nationwide_strikes
			days = short_modifier_time
			multiplier = 0.5
		}
	}
}

labour_associations_events.6 = { # Debate
	type = country_event
	placement = root
	title = labour_associations_events.6.t
	desc = labour_associations_events.6.d
	flavor = labour_associations_events.6.f

	category = enactment

	duration = 3


	event_image = {
		video = "asia_factory_accident"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		enacting_more_permissive_labour_associations_law = yes
		ig:ig_industrialists ?= {
			ig_counts_as_marginal = no
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_industrialists ?= {
			save_scope_as = industrialists_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.6.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_conditions_of_the_working_class
		}
		scope:industrialists_ig = {
			add_modifier = {
				name = modifier_conditions_of_the_working_class_ig
				days = short_modifier_time
			}
		}
	}

	option = {
		name = labour_associations_events.6.b
		add_loyalists = {
			pop_type = capitalists
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = shopkeepers
			value = small_radicals
		}
	}
}

labour_associations_events.7 = { # Debate
	type = country_event
	placement = root
	title = labour_associations_events.7.t
	desc = labour_associations_events.7.d
	flavor = labour_associations_events.7.f

	category = enactment

	duration = 3


	event_image = {
		video = "ip3_police_raid"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		enacting_less_permissive_labour_associations_law = yes
		OR = {
			ig:ig_industrialists ?= {
				ig_counts_as_marginal = no
			}
			ig:ig_petty_bourgeoisie ?= {
				ig_counts_as_marginal = no
			}
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_trade_unions ?= {
			save_scope_as = unions_ig
		}
		ig:ig_industrialists ?= {
			save_scope_as = relevant_bourgeois_ig
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.7.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_tolerated_union_crackdown
		}
		scope:relevant_bourgeois_ig = {
			add_modifier = {
				name = modifier_tolerated_union_crackdown_ig
				days = short_modifier_time
			}
		}
		add_radicals = {
			value = small_radicals
			pop_type = laborers
		}
		add_radicals = {
			value = medium_radicals
			pop_type = machinists
		}
	}

	option = {
		name = labour_associations_events.7.b
		add_enactment_modifier = {
			name = modifier_punished_union_crackdown
		}
		scope:relevant_bourgeois_ig = {
			add_modifier = {
				name = modifier_punished_union_crackdown_ig
				days = short_modifier_time
			}
		}
	}
}

labour_associations_events.8 = { # Advance
	type = country_event
	placement = root
	title = labour_associations_events.8.t
	desc = labour_associations_events.8.d
	flavor = labour_associations_events.8.f

	category = enactment

	duration = 3


	event_image = {
		video = "southamerica_factory_opening"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		has_law = law_type:law_trade_unions_banned
		OR = { 
			is_enacting_law = law_type:law_state_trade_unions
			is_enacting_law = law_type:law_restricted_trade_unions
			is_enacting_law = law_type:law_full_trade_unions
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		random_scope_state = {
			limit = {
				is_incorporated = yes
			}
			save_scope_as = relevant_state
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.8.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_guilds_abolition_benefit
		}
	}

	option = {
		name = labour_associations_events.8.b
		add_modifier = {
			name = modifier_guilds_abolished_mobility
			days = normal_modifier_time
		}
	}
}

labour_associations_events.9 = { # Advance
	type = country_event
	placement = root
	title = labour_associations_events.9.t
	desc = labour_associations_events.9.d
	flavor = labour_associations_events.9.f

	category = enactment

	duration = 3

	event_image = {
		video = "africa_diplomats_negotiating"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { days = normal_modifier_time }

	trigger = {
		enacting_more_permissive_labour_associations_law = yes
		ig:ig_landowners ?= {
			ig_counts_as_marginal = no
		}
		any_scope_state = {
			is_incorporated = yes
			any_scope_building = {
				is_building_type = building_urban_center
			}
		}
	}

	immediate = {
		currently_enacting_law = {
    		save_scope_as = current_law_scope
    	}
		ig:ig_landowners ?= {
			save_scope_as = landowners_ig
		}
		ordered_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_building = {
					is_building_type = building_urban_center
				}
			}
			order_by = b:building_urban_center.level
			position = 0
			check_range_bounds = no
			save_scope_as = relevant_state
		}
	}

	cancellation_trigger = {
		NOT = { currently_enacting_law = scope:current_law_scope }
	}

	option = {
		name = labour_associations_events.9.a
		default_option = yes
		add_enactment_modifier = {
			name = modifier_landowners_assisting_labour_enactment
		}
		scope:landowners_ig = {
			add_modifier = {
				name = modifier_landowners_assisting_labour
				days = normal_modifier_time
			}
		}
	}

	option = {
		name = labour_associations_events.9.b
		add_enactment_modifier = {
			name = modifier_landowners_assisting_labour_enactment
			multiplier = 0.5
		}
	}
}
